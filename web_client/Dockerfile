FROM node:18-alpine

WORKDIR /src

COPY package.json package-lock.json* ./

RUN npm install

COPY . .

ARG VITE_API_CASH_REGISTER_BASE_URL
ARG VITE_ANALYTICS_API_BASE_URL
ARG VITE_APP_ENV

ENV VITE_API_CASH_REGISTER_BASE_URL=$VITE_API_CASH_REGISTER_BASE_URL
ENV VITE_ANALYTICS_API_BASE_URL=$VITE_ANALYTICS_API_BASE_URL
ENV VITE_APP_ENV=$VITE_APP_ENV

RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
